<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MyOs: myos/os/critical.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MyOs
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">MyOs based on Contiki-Os concepts for memory constrained microcontrollers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('critical_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">critical.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Critical section handling.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;critical_arch.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for critical.h:</div>
<div class="dyncontent">
<div class="center"><img src="critical_8h__incl.png" border="0" usemap="#amyos_2os_2critical_8h" alt=""/></div>
<map name="amyos_2os_2critical_8h" id="amyos_2os_2critical_8h">
<area shape="rect" title="Critical section handling." alt="" coords="5,5,143,32"/>
<area shape="rect" title=" " alt="" coords="17,80,131,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="critical_8h__dep__incl.png" border="0" usemap="#amyos_2os_2critical_8hdep" alt=""/></div>
<map name="amyos_2os_2critical_8hdep" id="amyos_2os_2critical_8hdep">
<area shape="rect" title="Critical section handling." alt="" coords="476,5,613,32"/>
<area shape="rect" href="myos_8h.html" title=" " alt="" coords="403,80,532,107"/>
<area shape="rect" href="rtimer_8c.html" title=" " alt="" coords="557,80,687,107"/>
<area shape="rect" href="ctimer_8h.html" title="Callback timer implementation (ctimer)" alt="" coords="5,155,140,181"/>
<area shape="rect" href="etimer_8h.html" title=" " alt="" coords="164,155,299,181"/>
<area shape="rect" href="myos_8c.html" title=" " alt="" coords="323,155,451,181"/>
<area shape="rect" href="process_8c.html" title=" " alt="" coords="476,155,619,181"/>
<area shape="rect" href="ptimer_8c.html" title=" " alt="" coords="643,155,777,181"/>
<area shape="rect" href="ptimer_8h.html" title=" " alt="" coords="801,155,936,181"/>
<area shape="rect" href="uibuttons__process_8c.html" title=" " alt="" coords="960,155,1167,181"/>
<area shape="rect" href="ctimer_8c.html" title=" " alt="" coords="6,229,139,256"/>
<area shape="rect" href="etimer_8c.html" title=" " alt="" coords="164,229,299,256"/>
<area shape="rect" href="uileds__process_8c.html" title=" " alt="" coords="323,229,508,256"/>
</map>
</div>
</div>
<p><a href="critical_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a914de7ad34f57bba442e7c2db18aba3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="critical_8h.html#a914de7ad34f57bba442e7c2db18aba3a">CRITICAL_SECTION_BEGIN</a>&#160;&#160;&#160;CRITICAL_ARCH_SECTION_BEGIN</td></tr>
<tr class="memdesc:a914de7ad34f57bba442e7c2db18aba3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin of a critical section in code.  <a href="critical_8h.html#a914de7ad34f57bba442e7c2db18aba3a">More...</a><br /></td></tr>
<tr class="separator:a914de7ad34f57bba442e7c2db18aba3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e2793e22121f326262963cdf9ecd79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="critical_8h.html#a55e2793e22121f326262963cdf9ecd79">CRITICAL_SECTION_END</a>&#160;&#160;&#160;CRITICAL_ARCH_SECTION_END</td></tr>
<tr class="memdesc:a55e2793e22121f326262963cdf9ecd79"><td class="mdescLeft">&#160;</td><td class="mdescRight">End of a critical section in code.  <a href="critical_8h.html#a55e2793e22121f326262963cdf9ecd79">More...</a><br /></td></tr>
<tr class="separator:a55e2793e22121f326262963cdf9ecd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f1825392e3f5ba6661fed409283a77"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="critical_8h.html#ad3f1825392e3f5ba6661fed409283a77">CRITICAL_STATEMENT</a>(x)</td></tr>
<tr class="memdesc:ad3f1825392e3f5ba6661fed409283a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Critical section for one statement.  <a href="critical_8h.html#ad3f1825392e3f5ba6661fed409283a77">More...</a><br /></td></tr>
<tr class="separator:ad3f1825392e3f5ba6661fed409283a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Critical section handling. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2013-2023 Marco Bacchi <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'co'+'@ba'+'cc'+'hi.'+'at'; return false;">marco<span style="display: none;">.nosp@m.</span>@bac<span style="display: none;">.nosp@m.</span>chi.a<span style="display: none;">.nosp@m.</span>t</a> </dd></dl>
<dl class="section user"><dt>License:</dt><dd>This file is released under the MIT License.<br  />
 <a href="https://opensource.org/license/mit/">https://opensource.org/license/mit/</a></dd></dl>
<p>In concurrent programming, concurrent accesses to shared resources can lead to unexpected or erroneous behavior, so parts of the program where the shared resource is accessed need to be protected in ways that avoid the concurrent access.</p>
<p>One way to do so is known as a critical section or critical region. This protected section cannot be entered by more than one process or thread at a time; others are suspended until the first leaves the critical section. Typically, the critical section accesses a shared resource, such as a data structure, a peripheral device, or a network connection, that would not operate correctly in the context of multiple concurrent accesses.</p>
<p>The simplest method to prevent any change of processor control inside the critical section is implementing a semaphore. In uniprocessor systems, this can be done by disabling interrupts on entry into the critical section, avoiding system calls that can cause a context switch while inside the section, and restoring interrupts to their previous state on exit.</p>
<p><a href="https://en.wikipedia.org/wiki/Critical_section">https://en.wikipedia.org/wiki/Critical_section</a></p>
<p>Critical sections should be kept as short as possible to minimize the time during which interrupts are disabled. This helps reduce the impact on the overall system responsiveness. </p>

<p class="definition">Definition in file <a class="el" href="critical_8h_source.html">critical.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a914de7ad34f57bba442e7c2db18aba3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914de7ad34f57bba442e7c2db18aba3a">&#9670;&nbsp;</a></span>CRITICAL_SECTION_BEGIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRITICAL_SECTION_BEGIN&#160;&#160;&#160;CRITICAL_ARCH_SECTION_BEGIN</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin of a critical section in code. </p>
<p>Inside a critical section, it's common to disable interrupts temporarily to prevent other interrupt sources from preempting the current ISR. This ensures that the critical section is executed atomically without interruption.</p>
<p>This macro disables the interrupts before entering the critical section. </p>

<p class="definition">Definition at line <a class="el" href="critical_8h_source.html#l00076">76</a> of file <a class="el" href="critical_8h_source.html">critical.h</a>.</p>

</div>
</div>
<a id="a55e2793e22121f326262963cdf9ecd79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e2793e22121f326262963cdf9ecd79">&#9670;&nbsp;</a></span>CRITICAL_SECTION_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRITICAL_SECTION_END&#160;&#160;&#160;CRITICAL_ARCH_SECTION_END</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End of a critical section in code. </p>
<p>Once the critical section is completed, interrupts are re-enabled to allow the processor to respond to other interrupt sources.</p>
<p>This macro enables the interrupts before leaving the critical section. </p>

<p class="definition">Definition at line <a class="el" href="critical_8h_source.html#l00085">85</a> of file <a class="el" href="critical_8h_source.html">critical.h</a>.</p>

</div>
</div>
<a id="ad3f1825392e3f5ba6661fed409283a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f1825392e3f5ba6661fed409283a77">&#9670;&nbsp;</a></span>CRITICAL_STATEMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRITICAL_STATEMENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">   <a class="code" href="critical_8h.html#a914de7ad34f57bba442e7c2db18aba3a">CRITICAL_SECTION_BEGIN</a>();  \</div>
<div class="line">   x;                         \</div>
<div class="line">   CRITICAL_SECTION_END();</div>
<div class="ttc" id="acritical_8h_html_a914de7ad34f57bba442e7c2db18aba3a"><div class="ttname"><a href="critical_8h.html#a914de7ad34f57bba442e7c2db18aba3a">CRITICAL_SECTION_BEGIN</a></div><div class="ttdeci">#define CRITICAL_SECTION_BEGIN</div><div class="ttdoc">Begin of a critical section in code.</div><div class="ttdef"><b>Definition:</b> <a href="critical_8h_source.html#l00076">critical.h:76</a></div></div>
</div><!-- fragment -->
<p>Critical section for one statement. </p>
<p>In computer programming, a statement is a syntactic unit of an imperative programming language that expresses some action to be carried out.</p>
<p>Simple statements are complete in themselves; these include assignments, subroutine calls, and a few statements which may significantly affect the program flow of control (e.g. goto, return, stop/halt).</p>
<p><a href="https://en.wikipedia.org/wiki/Statement_(computer_science)">https://en.wikipedia.org/wiki/Statement_(computer_science)</a></p>
<p>This macro disables interrupts before entering the critical section, executes the statement provided and enables interrupts again before leaving the critical section.</p>
<p>Usage example : CRITICAL_STATEMENT( a = b ); </p>

<p class="definition">Definition at line <a class="el" href="critical_8h_source.html#l00106">106</a> of file <a class="el" href="critical_8h_source.html">critical.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_31203ee4bd5a40761b5a1bacfafff785.html">myos</a></li><li class="navelem"><a class="el" href="dir_942dd2164697cb41ae592a4fb2c869bb.html">os</a></li><li class="navelem"><a class="el" href="critical_8h.html">critical.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
